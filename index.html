<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Killian Control Center</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Bangers&family=Nunito:wght@400;600;700;800&display=swap"
    rel="stylesheet"
  >

  <style>
    :root {
      --bg-main: #050b1f;
      --bg-main-soft: #071432;
      --accent-yellow: #ffcc00;
      --accent-red: #ff3b30;
      --accent-green: #2ecc71;
      --accent-blue: #1a8cff;
      --card-bg: #0b1635;
      --card-bg-soft: #101d40;
      --card-border: #1f3567;
      --text-main: #ffffff;
      --text-muted: rgba(255, 255, 255, 0.7);
      --line-subtle: rgba(255, 255, 255, 0.08);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Nunito", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      min-height: 100vh;
      background:
        radial-gradient(circle at top right, #1b2e68 0, transparent 55%),
        radial-gradient(circle at bottom left, #0a173d 0, transparent 60%),
        linear-gradient(to bottom, var(--bg-main), var(--bg-main-soft));
      color: var(--text-main);
      display: flex;
      justify-content: center;
      padding: 16px;
      position: relative;
      overflow-x: hidden;
    }

    .wrapper {
      width: 100%;
      max-width: 1040px;
      position: relative;
      z-index: 1;
    }

    .shell {
      background:
        radial-gradient(circle at top left, rgba(255, 255, 255, 0.06), transparent 60%),
        linear-gradient(135deg, rgba(11, 22, 53, 0.96), rgba(5, 10, 31, 0.98));
      border-radius: 30px;
      border: 1px solid rgba(255, 255, 255, 0.08);
      box-shadow:
        0 30px 60px rgba(0, 0, 0, 0.85),
        0 0 0 1px rgba(0, 0, 0, 0.7);
      padding: 22px 16px 24px;
      backdrop-filter: blur(18px);
    }

    @media (min-width: 768px) {
      .shell {
        padding: 26px 26px 28px;
      }
    }

    /* Top bar: avatar + name + level */
    .top-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid var(--line-subtle);
      padding-bottom: 14px;
    }

    .profile {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .avatar {
      width: 64px;
      height: 64px;
      border-radius: 999px;
      background: conic-gradient(
        from 210deg,
        var(--accent-red),
        var(--accent-yellow),
        var(--accent-blue),
        var(--accent-red)
      );
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      box-shadow:
        0 0 0 3px rgba(0, 0, 0, 0.9),
        0 0 18px rgba(0, 0, 0, 0.7);
    }

    .avatar-inner {
      width: 80%;
      height: 80%;
      border-radius: inherit;
      background: radial-gradient(circle at top left, #ffffff, #ffe071);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Bangers", system-ui;
      font-size: 2.2rem;
      color: #d21500;
      text-shadow:
        0 2px 0 rgba(0, 0, 0, 0.4),
        0 4px 8px rgba(0, 0, 0, 0.45);
    }

    .profile-text-main {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .profile-name-row {
      display: flex;
      align-items: baseline;
      gap: 6px;
    }

    .profile-name {
      font-family: "Bangers", system-ui;
      font-size: 2rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: #ffffff;
      text-shadow:
        0 3px 0 rgba(0, 0, 0, 0.5),
        0 6px 12px rgba(0, 0, 0, 0.7);
    }

    .profile-tagline {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
    }

    .level-badge {
      margin-top: 4px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border-radius: 999px;
      padding: 4px 10px;
      background: rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.2);
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .level-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: var(--accent-yellow);
      box-shadow: 0 0 10px rgba(255, 204, 0, 0.8);
    }

    .status-chips {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 8px;
      font-size: 0.72rem;
    }

    .chip {
      border-radius: 999px;
      padding: 4px 8px;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(0, 0, 0, 0.4);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: var(--text-muted);
    }

    .chip span {
      font-size: 0.85rem;
    }

    /* Today's mission card */
    .mission-card {
      flex: 1;
      max-width: 360px;
      background: linear-gradient(145deg, #141f48, #090f28);
      border-radius: 18px;
      padding: 12px 14px 14px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow: 0 16px 32px rgba(0, 0, 0, 0.7);
    }

    .mission-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .mission-title {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--text-muted);
    }

    .mission-label {
      font-size: 0.75rem;
      border-radius: 999px;
      padding: 3px 8px;
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.16);
    }

    .mission-list {
      list-style: none;
      margin: 4px 0 6px;
      padding: 0;
    }

    .mission-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.85rem;
      padding: 4px 0;
      color: var(--text-muted);
    }

    .mission-check {
      width: 16px;
      height: 16px;
      border-radius: 4px;
      border: 2px solid rgba(255, 255, 255, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      color: var(--accent-green);
    }

    .mission-item.completed {
      color: rgba(180, 255, 190, 0.9);
    }

    .mission-item.completed .mission-check {
      background: rgba(46, 204, 113, 0.15);
      border-color: var(--accent-green);
    }

    .mission-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 2px;
      gap: 8px;
      flex-wrap: wrap;
    }

    .mission-hint {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .mission-button {
      border-radius: 999px;
      border: none;
      padding: 6px 12px;
      font-size: 0.76rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      font-weight: 800;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      background: linear-gradient(135deg, var(--accent-yellow), var(--accent-red));
      color: #1f1300;
      box-shadow:
        0 10px 18px rgba(0, 0, 0, 0.8),
        0 0 0 1px rgba(0, 0, 0, 0.7);
      transform: translateY(0);
      white-space: nowrap;
      transition:
        transform 0.12s ease-out,
        box-shadow 0.12s ease-out,
        filter 0.12s ease-out;
    }

    .mission-button:hover {
      transform: translateY(-1px);
      box-shadow:
        0 14px 24px rgba(0, 0, 0, 0.9),
        0 0 0 1px rgba(0, 0, 0, 0.8);
      filter: brightness(1.03);
    }

    .mission-button:active {
      transform: translateY(0) scale(0.98);
      box-shadow:
        0 8px 16px rgba(0, 0, 0, 0.8),
        0 0 0 1px rgba(0, 0, 0, 0.8);
    }

    @media (max-width: 720px) {
      .top-bar {
        align-items: flex-start;
      }
      .mission-card {
        width: 100%;
      }
    }

    /* XP strip */
    .xp-strip {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 12px;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .xp-label {
      text-transform: uppercase;
      letter-spacing: 0.14em;
      font-size: 0.72rem;
    }

    .xp-bar-wrap {
      flex: 1;
      height: 8px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.16);
      overflow: hidden;
    }

    .xp-bar-fill {
      height: 100%;
      border-radius: inherit;
      background: linear-gradient(90deg, var(--accent-yellow), var(--accent-red));
      width: 0%;
      transition: width 0.3s ease-out;
    }

    .xp-level-label {
      white-space: nowrap;
    }

    /* Main zones grid */
    .zones {
      margin-top: 20px;
      display: grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }

    @media (min-width: 720px) {
      .zones {
        grid-template-columns: minmax(0, 2fr) minmax(0, 2fr) minmax(0, 2fr);
      }
    }

    .zone-card {
      position: relative;
      background: radial-gradient(circle at top left, rgba(255, 255, 255, 0.05), transparent 60%),
                  linear-gradient(150deg, var(--card-bg), var(--card-bg-soft));
      border-radius: 20px;
      padding: 14px 13px 14px;
      border: 1px solid var(--card-border);
      box-shadow:
        0 16px 30px rgba(0, 0, 0, 0.85),
        0 0 0 1px rgba(0, 0, 0, 0.85);
      cursor: pointer;
      transition:
        transform 0.16s ease-out,
        box-shadow 0.16s ease-out,
        border-color 0.16s ease-out;
      overflow: hidden;
    }

    .zone-card:hover {
      transform: translateY(-3px);
      box-shadow:
        0 22px 40px rgba(0, 0, 0, 0.9),
        0 0 0 1px rgba(0, 0, 0, 0.85);
      border-color: rgba(255, 255, 255, 0.28);
    }

    .zone-card:active {
      transform: translateY(0) scale(0.99);
    }

    .zone-top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .zone-title {
      font-size: 1.05rem;
      font-weight: 800;
      letter-spacing: 0.03em;
    }

    .zone-title span {
      color: var(--accent-yellow);
    }

    .zone-icon-badge {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.26);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      box-shadow:
        0 0 0 1px rgba(0, 0, 0, 0.8),
        0 4px 10px rgba(0, 0, 0, 0.9);
    }

    .zone-text {
      font-size: 0.88rem;
      color: var(--text-muted);
      min-height: 2.8em;
    }

    .zone-footer {
      margin-top: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.78rem;
      color: var(--text-muted);
    }

    .zone-tag {
      border-radius: 999px;
      padding: 4px 8px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(0, 0, 0, 0.45);
      font-size: 0.74rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
    }

    .zone-link-label {
      opacity: 0.9;
    }

    .zone-link {
      color: inherit;
      text-decoration: none;
      display: block;
    }

    /* Goat hop */
    .goat-icon {
      display: inline-block;
      transition: transform 0.14s ease-out;
    }

    .goat-icon.hop {
      animation: goat-hop 550ms ease-out;
    }

    @keyframes goat-hop {
      0% { transform: translateY(0) rotate(0deg); }
      30% { transform: translateY(-10px) rotate(-10deg); }
      60% { transform: translateY(-3px) rotate(5deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }

    /* Bottom row */
    .bottom-row {
      margin-top: 18px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: space-between;
      align-items: center;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .tip-pill {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(0, 0, 0, 0.55);
    }

    .confetti-button-main {
      border-radius: 999px;
      border: none;
      padding: 7px 14px;
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      font-weight: 800;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 5px;
      background: linear-gradient(130deg, var(--accent-blue), var(--accent-yellow));
      color: #010611;
      box-shadow:
        0 10px 18px rgba(0, 0, 0, 0.85),
        0 0 0 1px rgba(0, 0, 0, 0.85);
      transform: translateY(0);
      transition:
        transform 0.12s ease-out,
        box-shadow 0.12s ease-out,
        filter 0.12s ease-out;
      white-space: nowrap;
    }

    .confetti-button-main:hover {
      transform: translateY(-1px);
      box-shadow:
        0 14px 24px rgba(0, 0, 0, 0.9),
        0 0 0 1px rgba(0, 0, 0, 0.9);
      filter: brightness(1.04);
    }

    .confetti-button-main:active {
      transform: translateY(0) scale(0.98);
      box-shadow:
        0 8px 16px rgba(0, 0, 0, 0.85),
        0 0 0 1px rgba(0, 0, 0, 0.9);
    }

    .footer {
      margin-top: 10px;
      font-size: 0.74rem;
      text-align: center;
      opacity: 0.65;
    }

    .footer span {
      color: var(--accent-yellow);
    }

    /* Confetti */
    .confetti-piece {
      position: fixed;
      width: 10px;
      height: 16px;
      border-radius: 4px;
      pointer-events: none;
      opacity: 0.95;
      z-index: 999;
      animation: confetti-fall 1200ms linear forwards;
    }

    @keyframes confetti-fall {
      0% {
        transform: translate3d(0, -100vh, 0) rotateZ(0deg);
      }
      100% {
        transform: translate3d(0, 100vh, 0) rotateZ(360deg);
      }
    }

    /* Cars track at bottom */
    .cars-track {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 6px;
      pointer-events: none;
      z-index: 0;
    }

    .car-lane {
      position: relative;
      width: 100%;
      height: 26px;
      overflow: hidden;
      opacity: 0.7;
    }

    .car {
      position: absolute;
      bottom: 0;
      font-size: 1.4rem;
      animation: car-drive linear infinite;
      white-space: nowrap;
      text-shadow:
        0 0 6px rgba(0, 0, 0, 0.9),
        0 0 2px rgba(0, 0, 0, 1);
    }

    .car:nth-child(1) {
      animation-duration: 14s;
      animation-delay: -3s;
    }

    .car:nth-child(2) {
      animation-duration: 18s;
      animation-delay: -10s;
      opacity: 0.85;
    }

    .car:nth-child(3) {
      animation-duration: 20s;
      animation-delay: -15s;
      opacity: 0.6;
    }

    @keyframes car-drive {
      0%   { transform: translateX(-15%); }
      100% { transform: translateX(115%); }
    }

    @media (max-width: 600px) {
      .cars-track {
        display: none;
      }
    }
  </style>
</head>
<body>
  <div class="wrapper">
    <div class="shell">
      <!-- Top: Avatar, name, level, missions -->
      <div class="top-bar">
        <section class="profile" aria-label="Killian profile">
          <div class="avatar">
            <div class="avatar-inner">K</div>
          </div>
          <div class="profile-text-main">
            <div>
              <div class="profile-name-row">
                <div class="profile-name">KILLIAN</div>
              </div>
              <div class="profile-tagline">Hot Wheels ¬∑ Goats ¬∑ Xbox</div>
            </div>

            <div class="level-badge">
              <span class="level-dot"></span>
              <span>Level 6 ¬∑ Hot Wheels Pro</span>
            </div>

            <div class="status-chips">
              <div class="chip">
                <span>üöó Garage unlocked</span>
              </div>
              <div class="chip">
                <span>üêê Goat Lab ready</span>
              </div>
              <div class="chip">
                <span>üïπÔ∏è Arcade loaded</span>
              </div>
            </div>
          </div>
        </section>

        <section class="mission-card" aria-label="Today's mission">
          <div class="mission-header">
            <div class="mission-title">Today‚Äôs Mission</div>
            <div class="mission-label">For Agent Killian</div>
          </div>
          <ul class="mission-list" id="missionList">
            <li class="mission-item" data-id="hotwheels">
              <div class="mission-check" aria-hidden="true"></div>
              <span>Watch one Hot Wheels video.</span>
            </li>
            <li class="mission-item" data-id="goat">
              <div class="mission-check" aria-hidden="true"></div>
              <span>Make the goat jump three times.</span>
            </li>
            <li class="mission-item" data-id="arcade">
              <div class="mission-check" aria-hidden="true"></div>
              <span>Play one mini game in the arcade.</span>
            </li>
          </ul>
          <div class="mission-footer">
            <div class="mission-hint" id="missionHint">
              Complete all steps, then press the button!
            </div>
            <button class="mission-button" id="missionButton" type="button">
              ‚úÖ Mission Complete
            </button>
          </div>
        </section>
      </div>

      <!-- XP strip -->
      <div class="xp-strip">
        <div class="xp-label">XP</div>
        <div class="xp-bar-wrap">
          <div class="xp-bar-fill" id="xpBar"></div>
        </div>
        <div class="xp-level-label" id="xpLabel">0 / 3</div>
      </div>

      <!-- Zones -->
      <section class="zones" aria-label="Main zones">
        <!-- Garage / Hot Wheels -->
        <article class="zone-card" id="zoneGarage">
          <!-- EDIT THIS LINK to your playlist or Hot Wheels hub -->
          <a
            class="zone-link"
            href="https://www.youtube.com/results?search_query=hot+wheels+kids"
            target="_blank"
            rel="noopener noreferrer"
          >
            <div class="zone-top-row">
              <h2 class="zone-title"><span>Garage</span> HQ</h2>
              <div class="zone-icon-badge">üöó</div>
            </div>
            <p class="zone-text">
              All your cars in one place ‚Äì crazy tracks, giant jumps, and super-fast Hot Wheels videos.
            </p>
            <div class="zone-footer">
              <div class="zone-tag">Hot Wheels Zone</div>
              <div class="zone-link-label">Open videos ‚Üí</div>
            </div>
          </a>
        </article>

        <!-- Goat Lab (no external link required) -->
        <article class="zone-card" id="zoneGoat">
          <div class="zone-link">
            <div class="zone-top-row">
              <h2 class="zone-title"><span>Goat</span> Lab</h2>
              <div class="zone-icon-badge">
                <span class="goat-icon" id="goatIcon">üêê</span>
              </div>
            </div>
            <p class="zone-text" id="goatText">
              Tap the goat icon to make it hop and unlock ultra-silly goat messages.
            </p>
            <div class="zone-footer">
              <div class="zone-tag">Silly Mode</div>
              <div class="zone-link-label">Tap the goat ‚Üë</div>
            </div>
          </div>
        </article>

        <!-- Arcade / mini games -->
        <article class="zone-card" id="zoneArcade">
          <!-- EDIT THIS LINK to your safe kids games site -->
          <a
            class="zone-link"
            href="https://poki.com"
            target="_blank"
            rel="noopener noreferrer"
          >
            <div class="zone-top-row">
              <h2 class="zone-title"><span>Arcade</span> Deck</h2>
              <div class="zone-icon-badge">üïπÔ∏è</div>
            </div>
            <p class="zone-text">
              Mini games you approve. Swap this link for your favourite kid-safe game website.
            </p>
            <div class="zone-footer">
              <div class="zone-tag">Games Hub</div>
              <div class="zone-link-label">Enter arcade ‚Üí</div>
            </div>
          </a>
        </article>
      </section>

      <!-- Bottom row: parent tip + confetti button -->
      <section class="bottom-row">
        <div class="tip-pill">
          Parent tip: bookmark this page so Killian can open his Control Center by himself.
        </div>
        <button class="confetti-button-main" id="confettiButton" type="button">
          üéâ Celebrate Killian
        </button>
      </section>

      <p class="footer">
        Made with <span>‚ù§Ô∏è</span> just for Killian.
      </p>
    </div>
  </div>

  <!-- Cars track at the bottom -->
  <div class="cars-track" aria-hidden="true">
    <div class="car-lane">
      <div class="car">üèéÔ∏èüí®</div>
      <div class="car">üöóüí®</div>
      <div class="car">üöôüí®</div>
    </div>
  </div>

  <script>
    // Simple persistence helpers
    function safeGet(key, fallback) {
      try {
        const v = localStorage.getItem(key);
        return v === null ? fallback : JSON.parse(v);
      } catch (_) {
        return fallback;
      }
    }
    function safeSet(key, value) {
      try {
        localStorage.setItem(key, JSON.stringify(value));
      } catch (_) {
        // ignore
      }
    }

    // Missions & XP
    const missionIds = ["hotwheels", "goat", "arcade"];
    let completedMissions = safeGet("killianMissions", { hotwheels: false, goat: false, arcade: false });

    const missionListEl = document.getElementById("missionList");
    const missionHintEl = document.getElementById("missionHint");
    const missionButtonEl = document.getElementById("missionButton");
    const xpBarEl = document.getElementById("xpBar");
    const xpLabelEl = document.getElementById("xpLabel");

    function renderMissions() {
      missionIds.forEach(id => {
        const item = missionListEl.querySelector(`[data-id="${id}"]`);
        if (!item) return;
        const isDone = !!completedMissions[id];
        item.classList.toggle("completed", isDone);
        const check = item.querySelector(".mission-check");
        if (check) {
          check.textContent = isDone ? "‚úì" : "";
        }
      });

      const doneCount = missionIds.filter(id => completedMissions[id]).length;
      const total = missionIds.length;
      const pct = (doneCount / total) * 100;

      xpBarEl.style.width = pct + "%";
      xpLabelEl.textContent = `${doneCount} / ${total}`;

      if (doneCount === total) {
        missionHintEl.textContent = "Nice work, mission complete!";
      } else if (doneCount === 0) {
        missionHintEl.textContent = "Complete all steps, then press the button!";
      } else {
        missionHintEl.textContent = "You‚Äôre on your way ‚Äì keep going!";
      }
    }

    function markMissionDone(id) {
      if (!missionIds.includes(id)) return;
      completedMissions[id] = true;
      safeSet("killianMissions", completedMissions);
      renderMissions();
    }

    if (missionButtonEl) {
      missionButtonEl.addEventListener("click", () => {
        const doneCount = missionIds.filter(id => completedMissions[id]).length;
        if (doneCount === missionIds.length) {
          launchConfetti(130);
        } else {
          // Soft nudge, no confetti unless actually done
          launchConfetti(40);
        }
      });
    }

    // Goat hop
    const goatIcon = document.getElementById("goatIcon");
    const goatText = document.getElementById("goatText");
    const goatMessages = [
      "BAAA! The goat just did a mega jump.",
      "You booped the goat! It loves it.",
      "Ultra-silly goat mode activated.",
      "Goat did a 360¬∞ spin (kinda).",
      "Goat is now Captain Headbutt."
    ];
    let goatClicks = 0;

    if (goatIcon) {
      goatIcon.addEventListener("click", () => {
        goatIcon.classList.remove("hop");
        void goatIcon.offsetWidth;
        goatIcon.classList.add("hop");

        goatClicks++;
        const msg = goatMessages[Math.floor(Math.random() * goatMessages.length)];
        if (goatText) {
          goatText.textContent = msg;
        }
        if (goatClicks >= 3) {
          markMissionDone("goat");
        }
      });
    }

    // Garage click (any click on card counts)
    const zoneGarage = document.getElementById("zoneGarage");
    if (zoneGarage) {
      zoneGarage.addEventListener("click", () => {
        markMissionDone("hotwheels");
      });
    }

    // Arcade click
    const zoneArcade = document.getElementById("zoneArcade");
    if (zoneArcade) {
      zoneArcade.addEventListener("click", () => {
        markMissionDone("arcade");
      });
    }

    // Confetti
    const confettiColors = [
      "#ffcc00",
      "#ff3b30",
      "#4ecdc4",
      "#1a8cff",
      "#ff9ff3",
      "#9eff3b"
    ];

    function launchConfetti(count = 90) {
      const width = window.innerWidth;
      for (let i = 0; i < count; i++) {
        const piece = document.createElement("div");
        piece.className = "confetti-piece";
        piece.style.backgroundColor = confettiColors[Math.floor(Math.random() * confettiColors.length)];
        piece.style.left = Math.random() * width + "px";
        document.body.appendChild(piece);
        piece.addEventListener("animationend", () => {
          piece.remove();
        });
      }
    }

    const confettiButton = document.getElementById("confettiButton");
    if (confettiButton) {
      confettiButton.addEventListener("click", () => launchConfetti());
    }

    // Initial render
    renderMissions();
  </script>
</body>
</html>
